=== ERROR REPORT ===
For Input: 
&%^oq^

Your Code's output is: 

It's Correct output is: 
&%^q^


=== EXPLANATION ===
Line 8: probably you want the condition to be `i<=n-1`.
Line 9: `S[i]` should be added to `result` if all (instead of any of) those conditions are true.